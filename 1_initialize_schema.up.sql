CREATE TABLE IF NOT EXISTS accounts (
    id integer GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    access_token text NULL,
    email text NULL,
    phone_number CHARACTER(12) NOT NULL UNIQUE,
    sms_code CHARACTER(6) NOT NULL UNIQUE,
    created_at timestamp without time zone NOT NULL DEFAULT now(),
    updated_at timestamp without time zone NOT NULL DEFAULT now()
);

CREATE TABLE IF NOT EXISTS drivers (
    id integer PRIMARY KEY,
    first_name text NOT NULL,   
    last_name text NOT NULL,   
    idnp CHARACTER(13) NOT NULL UNIQUE,   
    age integer,
    dayOrdersLimit integer DEFAULT 24,
    created_at timestamp without time zone NOT NULL DEFAULT now(),
    updated_at timestamp without time zone NOT NULL DEFAULT now(),

    CONSTRAINT fk_accounts FOREIGN KEY(id) REFERENCES accounts(id)
);

CREATE TABLE IF NOT EXISTS clients (
    id integer PRIMARY KEY,
    first_name text NOT NULL,   
    last_name text NOT NULL,   
    created_at timestamp without time zone NOT NULL DEFAULT now(),
    updated_at timestamp without time zone NOT NULL DEFAULT now(),

    CONSTRAINT fk_accounts FOREIGN KEY(id) REFERENCES accounts(id)
);
